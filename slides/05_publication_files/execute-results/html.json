{
  "hash": "d63dbbf8e1af0cbd4221039369203077",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"5 Publication\"\ndescription: \"Publication of R packages + practical<br/>[Photo CC0 by Andrea Piacquadio on pexels.com]{.copyright}\"\nimage: thumbnails/publish.jpg\n---\n\n# Website with `pkgdown`\n\n::: {.cell}\n\n:::\n\n## Setup of `pkgdown`\n\n- `pkgdown` makes it quick and easy to build a website for your package\n- After installing `pkgdown`, run `usethis::use_pkgdown()` to get started\n- Main configuration happens in `_pkgdown.yml` file\n- Many customizations can be applied, but bulk of work during development is\n  updating the `reference` section with names of `.Rd` files\n  \n## Example `_pkgdown.yml` File\n\n```yaml\n---\nurl: https://openpharma.github.io/mmrm/latest-tag\n\ntemplate:\n  bootstrap: 5\n  params:\n    ganalytics: UA-125641273-1\n\nnavbar:\n  right:\n    - icon: fa-github\n      href: https://github.com/openpharma/mmrm\n\nreference:\n  - title: Package\n    contents:\n      - mmrm-package\n  - title: Functions\n    contents:\n      - mmrm\n      - fit_mmrm\n      - mmrm_control\n      - fit_single_optimizer\n      - refit_multiple_optimizers\n      - df_1d\n      - df_md\n      - component\n```\n\n##  {background-iframe=\"https://openpharma.github.io/mmrm/latest-tag/reference/index.html\" background-interactive=\"true\"}\n\n## Publication as GitHub Page\n\n- It's helpful for users to read the website online\n- GitHub is very helpful here because:\n  - A separate branch, `gh-pages`, stores the rendered website\n  - GitHub actions automatically render the website when the `main` branch\n    is updated\n- To get started, use `usethis::use_pkgdown_github_pages()`\n  - Or, manually deploy site with `pkgdown::deploy_to_branch()`\n\n##  {background-iframe=\"https://openpharma.github.io/mmrm/latest-tag/\" background-interactive=\"true\"}\n\n# Licensing, Open sourcing, Versioning\n\n## Licensing\n\n- High level categorization of licenses:\n  - \"Permissive\": Relaxed. Can be freely copied, modified, published (under the\n    same license).\n  - \"Copyleft\": Stricter. Same rights need to be preserved in derivative works.\n- R itself is licensed under GPL, but packages can choose, e.g.:\n    - `usethis::use_mit_license()` for permissive MIT \n    - `usethis::use_gpl_license()` for copyleft GPL\n- Include minimum version, e.g. `GPL (>= 3)`\n    \n## Licensing (cont'd)\n\n- Need to be careful here when you bundle any code from other software\n  - Care must be taken that any copyright/license statements from copied or\n    modified code are preserved and authorship is not misrepresented\n- Are the licenses of your package and the source compatible?\n  - e.g. cannot copy/paste code from a GPL package and publish in an MIT package\n- `LICENSE` file optionally can contain further restrictions of the license\n\n## Open Sourcing\n\n- The easiest way to \"open source\" your R package is to make the GitHub\n  repository public\n- This allows for easy open source contributions from other developers via pull\n  requests\n- Please check with your organization first: \n  - Are they ok to publish the software?\n  - What is the appropriate copyright holder? \n- Also allows bugs to be filed and to have\n  the GitHub issues page in the package description\n  \n## Versioning\n\n- The `Version` field defines the package version\n- Syntax: Three integers separated by `.` or `-`\n  - Canonical form is: `x.y-z`, equivalent to `x.y.z`\n- Useful conventions of \"semantic versioning\": \n  - `x` is major: Increment this for breaking changes\n  - `y` is minor: Increment this for new features\n  - `z` is patch: Increment this for bug fixes only\n  - `x.y.z.9000` and count up during development\n  - `usethis::use_version()` can help with this\n\n<!-- Keep in mind to update the `NEWS` file for any user-visible change -->\n\n# Checks Before Release\n\n## CRAN (The Comprehensive R Archive Network)\n\n- CRAN is the central repository for R packages\n- It has additional requirements beyond the standard package ones, which are \n  described in the Repository Policy\n- Submitting a package indicates agreement with the policy\n- In particular: \"The time of the volunteers is CRAN’s most precious resource, and they reserve the right to remove or modify packages on CRAN without notice or explanation (although notification will usually be given).\"\n\n## CRAN (cont'd)\n\n- Only source packages can be submitted\n<!-- no binary executables are allowed -->\n  - But `.rda` data files are allowed\n- Need single designated maintainer (person, not mailing list)\n  - Additional `Contact` field could be used\n- Citations in author-year style, followed by `<doi:...>`\n- Reducing run time of tests, checks, examples, vignettes is important\n- Need to provide cross-platform portable code: \n  CRAN runs checks on Windows, Mac, several Linux OS\n\n## CRAN (cont'd)\n\n❗ A CRAN submission can be punishing, painful, and nerve-racking:\n\nThe first release of the [rpact](https://cran.r-project.org/package=rpact)\npackage took 5 weeks and 6 submission attempts; painful experiences:\n\n-   Some Linux machines may generate different random numbers than expected\n    (despite setting a seed)\n-   Not only errors and warnings lead to the rejection of a submitted package,\n    but also notes\n-   Your local Windows test system may be much faster than the CRAN system\n    (e.g., 5 times)\n-   Don't use \"R Package for\" in your package title\n-   The description of the package must be provided with a doi reference\n\n## CRAN (cont'd) {.scrollable}\n\nExample message informing about the rejection of the last\n[rpact](https://cran.r-project.org/package=rpact) submission:\n\n> Dear maintainer,\n> \n> package rpact_3.3.2.tar.gz does not pass the incoming checks automatically,\n> please see the following pre-tests: \\\n> Windows:\n> [00check.log](https://cran.r-project.org/web/checks/check_results_rpact.html)\n> **Status: OK**, Debian:\n> [00check.log](https://cran.r-project.org/web/checks/check_results_rpact.html)\n> **Status: OK**\n>\n> Please fix all problems and resubmit a fixed version via the webform.\n>\n> Best regards, \\\n> CRAN teams' auto-check service\n>\n> r-devel-windows-x86_64 Check: Result: NA, Maintainer: 'Friedrich Pahlke'\\\n> r-devel-windows-x86_64 Check: Overall checktime, Result: NOTE, Overall\n> checktime 12 min \\> 10 min\\\n> r-devel-linux-x86_64-debian-gcc Check: Result: Note_to_CRAN_maintainers\n> Maintainer: 'Friedrich Pahlke'\n\n\n## R-Hub to the Rescue\n\n::: columns\n::: {.column width=\"30%\"}\n![](resources/r-hub.png)\n:::\n\n::: {.column width=\"70%\"}\n- Free `R CMD check` runs on [different operating systems](https://docs.r-hub.io/#which-platform) before submitting to CRAN\n- Supported by the R consortium\n- Typically used via the [website](https://builder.r-hub.io/)\n- There is also an R API: `rhub::check()` is comfortable\n  - Note: New API with R-hub v2 since a few weeks ([details](https://r-hub.github.io/rhub/articles/rhubv2.html))\n:::\n:::\n\n# GitHub\n\n## Tags\n\n- Tags are a feature of Git, i.e., not specific to GitHub\n- Git can tag specific points in the code history as being important\n- Typically, for each release, create a tag `vx.y.z`\n- The value here is that users can later check out the package \n  in the state of this release version\n  - Download in R: `remotes::install_github(\"org/package\", ref = \"vx.y.z\")`\n  - Comparison of versions are also possible, etc.\n\n## Tags: Example\n\n![](resources/tags.png)\n\n## Releases\n\n- Based on Git tags, and a feature of GitHub\n- Are \"deployable software packages to make them available for a wider audience\n  to download and use\"\n- Contain release notes and links to the binary package files for download\n  - However, for R packages these `tar.gz` package files are rarely used\n    directly\n\n## Releases: Example\n\n![](resources/releases.png)\n\n# Bioconductor\n\n## A Note on Bioconductor\n\n- The [Bioconductor](https://www.bioconductor.org/) project develops, supports,\n  and disseminates open source software for the analysis of biological assays\n- Like CRAN, Bioconductor has additional package requirements\n- Packages are peer reviewed by community members\n- New packages and updates to existing packages are released semi-annually\n- Software is expected to be interoperable with other Bioconductor packages\n  through the re-use of common data structures and infrastructure\n\n# References\n\n- [Licensing chapter](https://r-pkgs.org/license.html)\n- [All possible licenses for CRAN packages](https://svn.r-project.org/R/trunk/share/licenses/license.db)\n- [GitHub releases](https://docs.github.com/en/repositories/releasing-projects-on-github/about-releases)\n- [CRAN Repository Policy](https://cran.r-project.org/web/packages/policies.html)\n- [R-hub builder](https://builder.r-hub.io/)\n- [Bioconductor packages](https://contributions.bioconductor.org/index.html)\n\n# Exercise\n\nUse the same repository created from template [https://github.com/kkmann/simulatr](https://github.com/kkmann/simulatr)\n\n- Run CRAN like checks in RStudio: use `--as-cran` in check options\n- Look at the CI/CD checks reported on your GitHub repository\n  - Where are the `R CMD check` results?\n- Enable github page through `use_pkgdown_github_pages`\n- Deploy the website with `pkgdown`\n  - Need to change remote to `git`\n- Deploy the website through `use_github_action(\"pkgdown\")`\n  - (Optional) Check the automatic github page deploy action\n  \n# License Information\n\n- Creators (initial authors): \n  Daniel Sabanes Bove [`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 496 512\" style=\"height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\"/></svg>`{=html}](https://github.com/danielinteractive/) [`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 448 512\" style=\"height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z\"/></svg>`{=html}](https://www.linkedin.com/in/danielsabanesbove/),\n  Friedrich Pahlke [`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 496 512\" style=\"height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\"/></svg>`{=html}](https://github.com/fpahlke/) [`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 448 512\" style=\"height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z\"/></svg>`{=html}](https://www.linkedin.com/in/pahlke/)\n- In the current version, changes were done by (later authors): \n  Liming Li [`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 496 512\" style=\"height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\"/></svg>`{=html}](https://github.com/clarkliming),\n  Philippe Boileau [`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 512 512\" style=\"height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 20.9 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z\"/></svg>`{=html}](https://pboileau.ca/)\n- This work is licensed under the [Creative Commons Attribution-ShareAlike 4.0 International License](http://creativecommons.org/licenses/by-sa/4.0/).\n- The source files are hosted at [github.com/openstatsware/shortcourse-iscb2025](https://github.com/openstatsware/shortcourse-iscb2025), which is forked from the original version at [github.com/RCONIS/workshop-r-swe-zrh](https://github.com/RCONIS/workshop-r-swe-zrh/).\n- Important: To use this work you must provide the name of the creators (initial authors), a link to the material, a link to the license, and indicate if changes were made\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}